define(["base/base-grid-view","base/base-view"],function(e){"use strict";var t=function(e){var t=this,i=_.extend({},t.options,{model:e.data}),a=new t.detailView(i);t.addView(a),e.detailRow.find(".detailsContainer").append(a.render().$el);var l='<a href="#" onclick="event.preventDefault(); location.href=\''+t.editUrl+"/"+e.data.id+'\'" class="gotoObjectDetail"><label>'+t.editItemTitle()+'</label></a><div class="relations-container"></div>';t.showEditLinkButton||(l='<div class="relations-container"></div>'),e.detailRow.find(".extendedDetailsContainer").append(l),e.masterRow.data("detail-view",a)},i=e.extend({collectionType:null,filterView:null,showDeleteButton:!1,showEditButton:!1,showAddButton:!1,tableName:null,editUrl:null,createNewItemTitle:"add",editItemTitle:null,gridSelector:".grid",filterSelector:".filter",addNewModelInline:!1,showEditLinkButton:!0,initDetailView:t,excel:{allPages:!0},toolbar:function(){var e=this;if(Application.canTableItemBeCreated(e.tableName)){var t=[{template:function(){return e.addNewModelInline?'<a class="k-button k-button-icontext k-grid-create-inline" href="#" data-localized="add"></a>':'<a class="k-button k-button-icontext" href="'+e.editUrl+'/create" data-localized="'+e.createNewItemTitle+'"></a>'}}];return t}},events:{"dblclick .k-grid tbody tr:not(k-detail-row) td:not(.k-hierarchy-cell,.k-detail-cell,.commands,.detail-view-grid-cell)":function(e){var t=this,i=t.grid.dataItem(e.currentTarget.parentElement);void 0!=i&&void 0!=i.id&&0!=i.id&&(location.href=t.editUrl+"/"+i.id)}},initialize:function(){i.__super__.initialize.apply(this,arguments),this.collection=new this.collectionType},render:function(){var e=this;return i.__super__.render.apply(e,arguments),void 0!=e.filterView&&e.showView(new e.filterView({grid:e.grid}),e.filterSelector),e.addNewModelInline&&(e.showDeleteButton&&(e.showDeleteButton=Application.canTableItemBeDeleted(e.tableName)),e.showEditButton&&(e.showEditButton=Application.canTableItemBeEdit(e.tableName))),e},detailTemplate:'<div class="extendedDetailsContainer"></div><div class="detailsContainer"></div>'});return i});