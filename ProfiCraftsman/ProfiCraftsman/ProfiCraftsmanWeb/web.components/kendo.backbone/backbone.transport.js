define(function(){"use strict";function t(a){for(var e=0;e<a.length;e++){var n=a[e];n.value&&n.value instanceof Date?n.value=kendo.format("{0:yyyy'-'MM'-'dd'T'HH':'mm':'ss}",n.value):n.filters&&t(n.filters)}}function a(t){this.colWrap=t}return _.extend(a.prototype,{create:function(t){var a=t.data;this.colWrap.create(a).done(function(a){t.success({total:1,data:[a]})}).fail(function(){t.error.apply(this,arguments)})},read:function(a){var e=this.colWrap.collection;a.data.filter&&t(a.data.filter.filters),e.fetch({data:a.data,success:function(){a.success({total:e.total,data:e.toJSON()})}})},update:function(t){var a=this.colWrap.collection.get(t.data.cid||t.data.id);for(var e in t.data){var n=t.data[e];n instanceof Date&&(t.data[e]=kendo.format("{0:yyyy'-'MM'-'dd'T'HH':'mm':'ss}",n))}a.save(t.data).done(function(a){t.success({data:a})}).fail(function(){t.error.apply(this,arguments)})},destroy:function(t){var a=this.colWrap.collection.get(t.data.cid||t.data.id);a.destroy({wait:!0}).done(function(a){t.success(a.responseJSON)}).fail(function(){t.error.apply(this,arguments)})}}),a});